# ูุธุงู ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏ - ุฏููู ุงูุงุณุชุฎุฏุงู

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุตูุงุญูุงุช ุฌุฏูุฏ ููุญุณู ูููุฑ ุชุญููุงู ุฃูุซุฑ ุฏูุฉ ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏููู. ุงููุธุงู ุงูุฌุฏูุฏ ููุตู ุจูู ุตูุงุญูุงุช **ุงููุดุงูุฏุฉ** ู **ุงูุชุนุฏูู** ููู ูุญุฏุฉ ูู ุงููุธุงู.

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐ ุตูุงุญูุงุช ูููุตูุฉ
- **ูุดุงูุฏุฉ**: ุงูุณูุงุญ ูููุณุชุฎุฏู ุจุนุฑุถ ุงูุจูุงูุงุช ููุท
- **ุชุนุฏูู**: ุงูุณูุงุญ ูููุณุชุฎุฏู ุจุฅุถุงูุฉ ูุชุนุฏูู ูุญุฐู ุงูุจูุงูุงุช

### ๐ ุงููุญุฏุงุช ุงููุฏุนููุฉ
1. **ุฅุฏุงุฑุฉ ุงูููุธููู** (`view_employees`, `edit_employees`)
2. **ุฅุฏุงุฑุฉ ุงููุฏุงุฑุณ** (`view_schools`, `edit_schools`)
3. **ุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช** (`view_leaves`, `edit_leaves`)
4. **ุฅุฏุงุฑุฉ ุงููุบุงุฏุฑุงุช** (`view_departures`, `edit_departures`)
5. **ุฅุฏุงุฑุฉ ุงูููู** (`view_transfers`, `edit_transfers`)
6. **ุงูุชูุงุฑูุฑ** (`view_reports`, `edit_reports`)
7. **ุงูุชุตุฏูุฑ** (`view_exports`, `edit_exports`)
8. **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู** (`view_users`, `edit_users`)
9. **ุฅุฏุงุฑุฉ ุงูููุงุฐุฌ** (`view_forms`, `edit_forms`)
10. **ุฅุนุฏุงุฏุงุช ุงููุธุงู** (`view_system`, `edit_system`)

### ๐ ุตูุงุญูุงุช ุฎุงุตุฉ
- **ูุฏูุฑ ูุฏุฑุณุฉ** (`school_admin`)
- **ูุฏูุฑ ูุฏูุฑูุฉ** (`directorate_admin`)

## ุงููููุงุช ุงูุฌุฏูุฏุฉ

### 1. ูููุฐุฌ ุงููุณุชุฎุฏู ุงููุญุฏุซ
- `updated_user_model.py` - ูููุฐุฌ ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ ูุน ุงูุตูุงุญูุงุช ุงูููุตูุฉ
- `models.py` - ุชู ุชุญุฏูุซู ููุดูู ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ

### 2. ููุงูุจ HTML
- `new_user_form.html` - ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุงููุณุชุฎุฏููู
- `new_users_list.html` - ูุงุฆูุฉ ุงููุณุชุฎุฏููู
- `new_user_permissions.html` - ุนุฑุถ ุตูุงุญูุงุช ุงููุณุชุฎุฏู

### 3. ุงููุณุงุฑุงุช ูุงูุชุญูู
- `new_user_routes.py` - ูุณุงุฑุงุช ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุงูุฌุฏูุฏุฉ

### 4. ุณูุฑูุจุช ุงูุชุฑุญูู
- `migrate_permissions.py` - ุณูุฑูุจุช ุชุฑุญูู ุงูุตูุงุญูุงุช ูู ุงููุธุงู ุงููุฏูู
- `update_permissions_database.py` - ุณูุฑูุจุช ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุฎุทูุงุช ุงูุชูุนูู

### 1. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
python migrate_permissions.py
```

### 2. ุชุญุฏูุซ ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
ุฃุถู ุงูููุฏ ุงูุชุงูู ุฅูู `templates/base.html` ูู ูุณู ุฅุฏุงุฑุฉ ุงููุธุงู:

```html
{% if current_user.has_permission().get('view_users') or current_user.has_permission().get('edit_users') %}
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('new_user.users_list') }}">
        <i class="fas fa-users-cog"></i>
        <span>ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</span>
    </a>
</li>
{% endif %}
```

### 3. ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
```bash
python app.py
```

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ
1. ุงูุชูู ุฅูู "ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู"
2. ุงุถุบุท ุนูู "ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ"
3. ุงููุฃ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
4. ุญุฏุฏ ุงูุตูุงุญูุงุช ุงููุทููุจุฉ ููู ูุญุฏุฉ
5. ุงุญูุธ ุงููุณุชุฎุฏู

### ุชุนุฏูู ุตูุงุญูุงุช ูุณุชุฎุฏู
1. ูู ูุงุฆูุฉ ุงููุณุชุฎุฏูููุ ุงุถุบุท ุนูู "ุชุนุฏูู"
2. ูู ุจุชุนุฏูู ุงูุตูุงุญูุงุช ุญุณุจ ุงูุญุงุฌุฉ
3. ุงุญูุธ ุงูุชุบููุฑุงุช

### ุนุฑุถ ุตูุงุญูุงุช ูุณุชุฎุฏู
1. ูู ูุงุฆูุฉ ุงููุณุชุฎุฏูููุ ุงุถุบุท ุนูู "ุนุฑุถ ุงูุตูุงุญูุงุช"
2. ุณุชุธูุฑ ุฌููุน ุงูุตูุงุญูุงุช ูุน ุญุงูุชูุง (ููุนูุฉ/ูุนุทูุฉ)

## ุงูููุฒุงุช ุงูุชูุงุนููุฉ

### ูู ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุงููุณุชุฎุฏู
- **ูุถุน ุงููุฏูุฑ**: ุนูุฏ ุชูุนูููุ ูุชู ุฅุฎูุงุก ุฌููุน ุงูุตูุงุญูุงุช (ุงููุฏูุฑ ูุฏูู ุฌููุน ุงูุตูุงุญูุงุช)
- **ุชุญุฏูุฏ ุงููู**: ุฃุฒุฑุงุฑ ูุชุญุฏูุฏ ุฃู ุฅูุบุงุก ุชุญุฏูุฏ ุฌููุน ุงูุตูุงุญูุงุช
- **ุชุจุฏูู ุงููุดุงูุฏุฉ/ุงูุชุนุฏูู**: ุฃุฒุฑุงุฑ ูุชุจุฏูู ุตูุงุญูุงุช ุงููุดุงูุฏุฉ ุฃู ุงูุชุนุฏูู ููู ูุฆุฉ

### ูู ูุงุฆูุฉ ุงููุณุชุฎุฏููู
- **ุนุฑุถ ุณุฑูุน ููุตูุงุญูุงุช**: ูุงูุฐุฉ ููุจุซูุฉ ูุนุฑุถ ุตูุงุญูุงุช ุงููุณุชุฎุฏู
- **ุญุฐู ุขูู**: ุชุฃููุฏ ูุจู ุญุฐู ุงููุณุชุฎุฏู
- **ุชูุจููุงุช ุชูุงุนููุฉ**: ุฑุณุงุฆู ูุฌุงุญ ูุฎุทุฃ

## ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ูู ุงูููุฏ

### ูู Python
```python
# ุงูุชุญูู ูู ุตูุงุญูุฉ ูุงุญุฏุฉ
if current_user.has_permission().get('view_employees'):
    # ุงูุณูุงุญ ุจูุดุงูุฏุฉ ุงูููุธููู
    pass

# ุงูุชุญูู ูู ุตูุงุญูุงุช ูุชุนุฏุฏุฉ
perms = current_user.has_permission()
if perms.get('view_employees') and perms.get('edit_employees'):
    # ุงูุณูุงุญ ุจูุดุงูุฏุฉ ูุชุนุฏูู ุงูููุธููู
    pass
```

### ูู ุงูููุงูุจ
```html
<!-- ุงูุชุญูู ูู ุตูุงุญูุฉ ุงููุดุงูุฏุฉ -->
{% if current_user.has_permission().get('view_employees') %}
    <!-- ุนุฑุถ ูุงุฆูุฉ ุงูููุธููู -->
{% endif %}

<!-- ุงูุชุญูู ูู ุตูุงุญูุฉ ุงูุชุนุฏูู -->
{% if current_user.has_permission().get('edit_employees') %}
    <a href="{{ url_for('employee.add') }}">ุฅุถุงูุฉ ููุธู</a>
{% endif %}
```

## ุงูุฃูุงู ูุงูุญูุงูุฉ

- ุฌููุน ุงููุณุงุฑุงุช ูุญููุฉ ุจูุญุต ุงูุตูุงุญูุงุช
- ุงููุฏูุฑูู ูุฏููู ุฌููุน ุงูุตูุงุญูุงุช ุชููุงุฆูุงู
- ูุง ูููู ูููุณุชุฎุฏู ุญุฐู ููุณู
- ูุณุฎ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ ุนูุฏ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: ูุง ุชุธูุฑ ุงูุตูุงุญูุงุช ุงูุฌุฏูุฏุฉ
**ุงูุญู**: ุชุฃูุฏ ูู ุชุดุบูู ุณูุฑูุจุช ุงูุชุฑุญูู `migrate_permissions.py`

### ูุดููุฉ: ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูุญู**: ุงุณุชุฎุฏู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุงููุญููุธุฉ ุชููุงุฆูุงู

### ูุดููุฉ: ูุง ูููู ุงููุตูู ููุตูุญุงุช ุงูุฌุฏูุฏุฉ
**ุงูุญู**: ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงููุณุงุฑ ุงูุฌุฏูุฏ ูู `app.py`

## ุงูุฏุนู ูุงูุชุทููุฑ

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุดุงููุ ูุฑุฌู ูุฑุงุฌุนุฉ:
1. ูููุงุช ุงูุณุฌู (logs)
2. ุฑุณุงุฆู ุงูุฎุทุฃ ูู ุงููุชุตูุญ
3. ุณุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ููุงุญุธุฉ**: ูุฐุง ุงููุธุงู ูุชูุงูู ูุน ุงููุธุงู ุงููุฏูู ููููู ุงูุชุจุฏูู ุจููููุง ุญุณุจ ุงูุญุงุฌุฉ.